# @bubblesjs/request

åŸºäº Alova çš„ç°ä»£åŒ–è¯·æ±‚åº“ï¼Œæä¾›ç»Ÿä¸€çš„è¯·æ±‚å’Œå“åº”å¤„ç†æœºåˆ¶ï¼Œæ”¯æŒå¤šç§é€‚é…å™¨å’Œçµæ´»çš„é…ç½®é€‰é¡¹ã€‚

## ç‰¹æ€§

- ğŸš€ **ç°ä»£åŒ–è®¾è®¡**ï¼šåŸºäº Alova æ„å»ºï¼Œæ”¯æŒå£°æ˜å¼è¯·æ±‚å’Œå“åº”å¼ç‰¹æ€§
- ğŸ› ï¸ **çµæ´»é…ç½®**ï¼šæ”¯æŒå…¨å±€é…ç½®å’Œè¿è¡Œæ—¶åŠ¨æ€é…ç½®
- ğŸ”„ **åŒé‡è°ƒç”¨æ¨¡å¼**ï¼šæ”¯æŒé»˜è®¤å®ä¾‹å’ŒåŠ¨æ€é…ç½®å®ä¾‹
- ğŸ“ **TypeScript**ï¼šå®Œæ•´çš„ç±»å‹æ”¯æŒ
- ğŸ¯ **æ™ºèƒ½é”™è¯¯å¤„ç†**ï¼šç»Ÿä¸€çš„é”™è¯¯å¤„ç†å’Œæ¶ˆæ¯æç¤ºæœºåˆ¶
- ğŸ”Œ **å¤šé€‚é…å™¨æ”¯æŒ**ï¼šæ”¯æŒ fetchã€axios ç­‰å¤šç§è¯·æ±‚é€‚é…å™¨

## å®‰è£…

import { Tabs, Tab } from 'rspress/theme';

<Tabs>
  <Tab label="pnpm">
    ```bash
    pnpm add @bubblesjs/request alova
    ```
  </Tab>
  <Tab label="npm">
    ```bash
    npm install @bubblesjs/request alova
    ```
  </Tab>
  <Tab label="yarn">
    ```bash
    yarn add @bubblesjs/request alova
    ```
  </Tab>
  <Tab label="bun">
    ```bash
    bun add @bubblesjs/request alova
    ```
  </Tab>
</Tabs>

## å¿«é€Ÿå¼€å§‹

### åŸºç¡€ä½¿ç”¨

```ts
import { createInstance } from '@bubblesjs/request';

// åˆ›å»ºè¯·æ±‚å®ä¾‹
const request = createInstance({
  baseUrl: '/api',
  commonHeaders: {
    'Content-Type': 'application/json',
    Authorization: () => `Bearer ${localStorage.getItem('token') || ''}`,
  },
  successMessageFunc: (msg) => {
    console.log('âœ… æˆåŠŸ:', msg);
  },
  errorMessageFunc: (msg) => {
    console.error('âŒ é”™è¯¯:', msg);
  },
  unAuthorizedResponseFunc: () => {
    // å¤„ç†æœªæˆæƒï¼Œä¾‹å¦‚è·³è½¬åˆ°ç™»å½•é¡µ
    window.location.href = '/login';
  },
});

// å‘èµ·è¯·æ±‚
const userInfo = await request.Get('/user/info');
const result = await request.Post('/user/update', {
  body: { name: 'å¼ ä¸‰', age: 25 },
});
```

### åŒé‡è°ƒç”¨æ¨¡å¼

```ts
import { createDualCallInstance } from '@bubblesjs/request';

// åˆ›å»ºåŒé‡è°ƒç”¨å®ä¾‹å·¥å‚
const requestFactory = createDualCallInstance({
  baseUrl: '/api',
  isShowSuccessMessage: false, // é»˜è®¤ä¸æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯
  successMessageFunc: (msg) => alert(msg),
  errorMessageFunc: (msg) => console.error(msg),
});

// ä½¿ç”¨é»˜è®¤é…ç½®
const data1 = await requestFactory().Get('/user/list');

// ä¸´æ—¶è¦†ç›–é…ç½® - æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯
const data2 = await requestFactory({
  isShowSuccessMessage: true,
}).Post('/user/create', {
  body: { name: 'æå››' },
});

// ä¹Ÿå¯ä»¥ç›´æ¥è°ƒç”¨ HTTP æ–¹æ³•
const data3 = await requestFactory.Get('/user/profile');
const data4 = await requestFactory.Post('/user/settings', {
  body: { theme: 'dark' },
});
```

## API æ–‡æ¡£

### createInstance(option)

åˆ›å»ºä¸€ä¸ªæ ‡å‡†çš„ Alova è¯·æ±‚å®ä¾‹ã€‚

#### å‚æ•°

- `option`: `requestOption` - é…ç½®é€‰é¡¹

#### é…ç½®é€‰é¡¹

| å‚æ•° | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
| --- | --- | --- | --- |
| `baseUrl` | `string` | `'/'` | åŸºç¡€ URL |
| `timeout` | `number` | `0` | è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ï¼Œ0 è¡¨ç¤ºæ— è¶…æ—¶ |
| `commonHeaders` | `Record<string, string \| (() => string)>` | `{}` | å…¬å…±è¯·æ±‚å¤´ï¼Œæ”¯æŒå‡½æ•°åŠ¨æ€è·å– |
| `statusMap` | `statusMap` | `{success: 200, unAuthorized: 401}` | HTTP çŠ¶æ€ç æ˜ å°„ |
| `codeMap` | `codeMap` | `{success: [200], unAuthorized: [401]}` | ä¸šåŠ¡çŠ¶æ€ç æ˜ å°„ |
| `responseDataKey` | `string` | `'data'` | å“åº”æ•°æ®å­—æ®µå |
| `responseMessageKey` | `string` | `'message'` | å“åº”æ¶ˆæ¯å­—æ®µå |
| `isTransformResponse` | `boolean` | `true` | æ˜¯å¦å¯ç”¨å“åº”è½¬æ¢ |
| `isShowSuccessMessage` | `boolean` | `false` | æ˜¯å¦æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯ |
| `successDefaultMessage` | `string` | `'æ“ä½œæˆåŠŸ'` | é»˜è®¤æˆåŠŸæ¶ˆæ¯ |
| `isShowErrorMessage` | `boolean` | `true` | æ˜¯å¦æ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯ |
| `errorDefaultMessage` | `string` | `'æœåŠ¡å¼‚å¸¸'` | é»˜è®¤é”™è¯¯æ¶ˆæ¯ |
| `successMessageFunc` | `(message: string) => void` | `undefined` | æˆåŠŸæ¶ˆæ¯å¤„ç†å‡½æ•° |
| `errorMessageFunc` | `(message: string) => void` | `undefined` | é”™è¯¯æ¶ˆæ¯å¤„ç†å‡½æ•° |
| `unAuthorizedResponseFunc` | `() => void` | `undefined` | æœªæˆæƒå¤„ç†å‡½æ•° |
| `requestAdapter` | `AlovaRequestAdapter` | `adapterFetch()` | è¯·æ±‚é€‚é…å™¨ |
| `statesHook` | `StatesHook` | `undefined` | çŠ¶æ€é’©å­ï¼ˆç”¨äºæ¡†æ¶é›†æˆï¼‰ |

#### è¿”å›å€¼

è¿”å›é…ç½®å¥½çš„ Alova å®ä¾‹ï¼Œæ”¯æŒä»¥ä¸‹ HTTP æ–¹æ³•ï¼š

- `Get(url, config?)`
- `Post(url, config?)`
- `Put(url, config?)`
- `Delete(url, config?)`
- `Patch(url, config?)`
- `Head(url, config?)`
- `Options(url, config?)`

### createDualCallInstance(baseConfig)

åˆ›å»ºæ”¯æŒåŒé‡è°ƒç”¨æ¨¡å¼çš„è¯·æ±‚å®ä¾‹å·¥å‚ã€‚

#### å‚æ•°

- `baseConfig`: `baseRequestOption<AlovaGenerics>` - åŸºç¡€é…ç½®

#### è¿”å›å€¼

è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°ï¼š

1. æ— å‚æ•°è°ƒç”¨æ—¶è¿”å›é»˜è®¤å®ä¾‹
2. ä¼ å…¥ `CustomConfig` æ—¶è¿”å›åˆå¹¶é…ç½®åçš„æ–°å®ä¾‹
3. ç›´æ¥ç»‘å®šäº†æ‰€æœ‰ HTTP æ–¹æ³•åˆ°é»˜è®¤å®ä¾‹

```ts
// è¿”å›çš„å‡½æ•°ç±»å‹ç­¾å
interface DualCallInstance {
  (): AlovaInstance; // æ— å‚æ•°è°ƒç”¨
  (option: CustomConfig): AlovaInstance; // å¸¦é…ç½®è°ƒç”¨

  // ç›´æ¥ç»‘å®šçš„ HTTP æ–¹æ³•
  Get: AlovaInstance['Get'];
  Post: AlovaInstance['Post'];
  Put: AlovaInstance['Put'];
  Delete: AlovaInstance['Delete'];
  Patch: AlovaInstance['Patch'];
  Head: AlovaInstance['Head'];
  Options: AlovaInstance['Options'];
  Request: AlovaInstance['Request'];
}
```

## ä½¿ç”¨åœºæ™¯

### 1. åŸºç¡€é¡¹ç›®é…ç½®

```ts
import { createInstance } from '@bubblesjs/request';

const request = createInstance({
  baseUrl: process.env.REACT_APP_API_BASE_URL,
  timeout: 10000,
  commonHeaders: {
    'X-Client-Version': '1.0.0',
  },
});

// å¯¼å‡ºä¾›å…¨å±€ä½¿ç”¨
export default request;
```

### 2. å¸¦è®¤è¯çš„è¯·æ±‚

```ts
import { createInstance } from '@bubblesjs/request';

const authRequest = createInstance({
  baseUrl: '/api',
  commonHeaders: {
    Authorization: () => {
      const token = localStorage.getItem('authToken');
      return token ? `Bearer ${token}` : '';
    },
  },
  unAuthorizedResponseFunc: () => {
    // æ¸…é™¤æœ¬åœ°è®¤è¯ä¿¡æ¯
    localStorage.removeItem('authToken');
    // è·³è½¬åˆ°ç™»å½•é¡µ
    window.location.href = '/login';
  },
});
```

### 3. ä¸šåŠ¡ç‰¹å®šé…ç½®

```ts
import { createDualCallInstance } from '@bubblesjs/request';

// åˆ›å»ºç”¨æˆ·æ¨¡å—è¯·æ±‚å·¥å‚
const userRequestFactory = createDualCallInstance({
  baseUrl: '/api/user',
  statusMap: {
    success: 200,
    unAuthorized: 401,
  },
  codeMap: {
    success: [200, 201],
    unAuthorized: [401, 403],
  },
});

// é™é»˜è·å–ç”¨æˆ·åˆ—è¡¨
const getUserList = () =>
  userRequestFactory({
    isShowSuccessMessage: false,
    isShowErrorMessage: false,
  }).Get('/list');

// åˆ›å»ºç”¨æˆ·æ—¶æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯
const createUser = (userData) =>
  userRequestFactory({
    isShowSuccessMessage: true,
  }).Post('/create', { body: userData });
```

### 4. æ–‡ä»¶ä¸Šä¼ é…ç½®

```ts
import { createInstance } from '@bubblesjs/request';

const uploadRequest = createInstance({
  baseUrl: '/api/upload',
  timeout: 60000, // 60ç§’è¶…æ—¶
  isTransformResponse: false, // ä¸è½¬æ¢å“åº”ï¼Œä¿ç•™å®Œæ•´å“åº”ä¿¡æ¯
  successMessageFunc: (msg) => {
    console.log('ä¸Šä¼ æˆåŠŸ:', msg);
  },
});

// ä¸Šä¼ æ–‡ä»¶
const uploadFile = async (file: File) => {
  const formData = new FormData();
  formData.append('file', file);

  return await uploadRequest.Post('/file', {
    body: formData,
    headers: {
      'Content-Type': 'multipart/form-data',
    },
  });
};
```

### 5. ä¸åŒç¯å¢ƒé…ç½®

```ts
import { createInstance } from '@bubblesjs/request';

const createEnvironmentRequest = (env: 'dev' | 'prod' | 'test') => {
  const config = {
    dev: {
      baseUrl: 'http://localhost:3000/api',
      isShowSuccessMessage: true, // å¼€å‘ç¯å¢ƒæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯
      isShowErrorMessage: true,
    },
    test: {
      baseUrl: 'https://test-api.example.com/api',
      isShowSuccessMessage: false,
      isShowErrorMessage: true,
    },
    prod: {
      baseUrl: 'https://api.example.com/api',
      isShowSuccessMessage: false,
      isShowErrorMessage: false, // ç”Ÿäº§ç¯å¢ƒé™é»˜å¤„ç†é”™è¯¯
    },
  };

  return createInstance(config[env]);
};

// æ ¹æ®ç¯å¢ƒåˆ›å»ºè¯·æ±‚å®ä¾‹
const request = createEnvironmentRequest(process.env.NODE_ENV as any);
```

## é«˜çº§ç”¨æ³•

### 1. è‡ªå®šä¹‰é€‚é…å™¨

```ts
import { createInstance } from '@bubblesjs/request';
import { axiosRequestAdapter } from 'alova/axios';
import axios from 'axios';

const customRequest = createInstance({
  baseUrl: '/api',
  requestAdapter: axiosRequestAdapter(), // ä½¿ç”¨ axios é€‚é…å™¨
  timeout: 15000,
});
```

### 2. å“åº”æ‹¦æˆªå’Œæ•°æ®è½¬æ¢

```ts
import { createInstance } from '@bubblesjs/request';

const request = createInstance({
  baseUrl: '/api',
  responseDataKey: 'result', // è‡ªå®šä¹‰æ•°æ®å­—æ®µ
  responseMessageKey: 'msg', // è‡ªå®šä¹‰æ¶ˆæ¯å­—æ®µ
  codeMap: {
    success: [0, 200, 201], // å¤šä¸ªæˆåŠŸçŠ¶æ€ç 
    unAuthorized: [401, 40001, 40002], // å¤šä¸ªæœªæˆæƒçŠ¶æ€ç 
  },
  isTransformResponse: true, // è‡ªåŠ¨æå–æ•°æ®å­—æ®µ
});
```

### 3. é›†æˆ React/Vue çŠ¶æ€ç®¡ç†

```ts
// React ç¤ºä¾‹
import { createInstance } from '@bubblesjs/request';
import { ReactHook } from 'alova/react';
// Vue ç¤ºä¾‹
import { VueHook } from 'alova/vue';

const reactRequest = createInstance({
  baseUrl: '/api',
  statesHook: ReactHook, // é›†æˆ React çŠ¶æ€ç®¡ç†
});

const vueRequest = createInstance({
  baseUrl: '/api',
  statesHook: VueHook, // é›†æˆ Vue çŠ¶æ€ç®¡ç†
});
```

## é”™è¯¯å¤„ç†

### é”™è¯¯å¤„ç†æµç¨‹

1. **HTTP çŠ¶æ€ç æ£€æŸ¥**ï¼šé¦–å…ˆæ£€æŸ¥ HTTP çŠ¶æ€ç æ˜¯å¦ä¸ºæˆåŠŸçŠ¶æ€
2. **ä¸šåŠ¡çŠ¶æ€ç æ£€æŸ¥**ï¼šç„¶åæ£€æŸ¥å“åº”ä½“ä¸­çš„ä¸šåŠ¡çŠ¶æ€ç 
3. **æœªæˆæƒå¤„ç†**ï¼šç‰¹æ®Šå¤„ç†æœªæˆæƒæƒ…å†µ
4. **é”™è¯¯æ¶ˆæ¯æ˜¾ç¤º**ï¼šæ ¹æ®é…ç½®æ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯

### è‡ªå®šä¹‰é”™è¯¯å¤„ç†

```ts
import { createInstance } from '@bubblesjs/request';

const request = createInstance({
  baseUrl: '/api',
  errorMessageFunc: (message) => {
    // è‡ªå®šä¹‰é”™è¯¯æ¶ˆæ¯å¤„ç†
    if (message.includes('ç½‘ç»œ')) {
      showNetworkErrorDialog();
    } else {
      showGeneralErrorToast(message);
    }
  },
  unAuthorizedResponseFunc: () => {
    // è‡ªå®šä¹‰æœªæˆæƒå¤„ç†
    clearUserData();
    redirectToLogin();
  },
});
```

## ç±»å‹å®šä¹‰

```ts
// åŸºç¡€é…ç½®æ¥å£
interface baseRequestOption<AG extends AlovaGenerics> {
  baseUrl?: string;
  timeout?: number;
  commonHeaders?: Record<string, string | (() => string)>;
  statusMap?: statusMap;
  codeMap?: codeMap;
  responseDataKey?: string;
  responseMessageKey?: string;
  isTransformResponse?: boolean;
  isShowSuccessMessage?: boolean;
  successDefaultMessage?: string;
  isShowErrorMessage?: boolean;
  errorDefaultMessage?: string;
  statesHook?: AlovaOptions<AG>['statesHook'];
  successMessageFunc?: (message: string) => void;
  errorMessageFunc?: (message: string) => void;
  unAuthorizedResponseFunc?: () => void;
  requestAdapter?: AlovaOptions<AG>['requestAdapter'];
}

// è‡ªå®šä¹‰é…ç½®æ¥å£ï¼ˆç”¨äºåŒé‡è°ƒç”¨ï¼‰
interface CustomConfig {
  isTransformResponse?: boolean;
  isShowSuccessMessage?: boolean;
  isShowErrorMessage?: boolean;
}

// çŠ¶æ€ç æ˜ å°„
interface statusMap {
  success?: number;
  unAuthorized?: number;
}

// ä¸šåŠ¡ç æ˜ å°„
interface codeMap {
  success?: number[];
  unAuthorized?: number[];
}
```

## æœ€ä½³å®è·µ

### 1. ç»Ÿä¸€é”™è¯¯å¤„ç†

```ts
// error-handler.ts
export const handleApiError = (message: string) => {
  // æ ¹æ®é”™è¯¯ç±»å‹åšä¸åŒå¤„ç†
  if (message.includes('ç½‘ç»œ')) {
    toast.error('ç½‘ç»œè¿æ¥å¼‚å¸¸ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®')
  } else if (message.includes('æœåŠ¡å™¨')) {
    toast.error('æœåŠ¡å™¨ç¹å¿™ï¼Œè¯·ç¨åé‡è¯•')
  } else {
    toast.error(message)
  }
}

export const handleUnauthorized = () => {
  // æ¸…é™¤ç”¨æˆ·çŠ¶æ€
  useUserStore.getState().logout()
  // è·³è½¬ç™»å½•é¡µ
  navigate('/login')
}

// request.ts
import { createInstance } from '@bubblesjs/request'
import { handleApiError, handleUnauthorized } from './error-handler'

export const request = createInstance({
  baseUrl: '/api',
  errorMessageFunc: handleApiError,
  unAuthorizedResponseFunc: handleUnauthorized
})
```

### 2. æ¨¡å—åŒ–è¯·æ±‚é…ç½®

```ts
// api/base.ts
import { createDualCallInstance } from '@bubblesjs/request'

export const createModuleRequest = (module: string) => {
  return createDualCallInstance({
    baseUrl: `/api/${module}`,
    commonHeaders: {
      'X-Module': module
    }
  })
}

// api/user.ts
import { createModuleRequest } from './base'

const userRequest = createModuleRequest('user')

export const userApi = {
  getProfile: () => userRequest.Get('/profile'),
  updateProfile: (data) => userRequest({
    isShowSuccessMessage: true
  }).Put('/profile', { body: data }),
  deleteAccount: () => userRequest({
    isShowSuccessMessage: true,
    successDefaultMessage: 'è´¦æˆ·åˆ é™¤æˆåŠŸ'
  }).Delete('/account')
}
```

### 3. ç±»å‹å®‰å…¨çš„ API è°ƒç”¨

```ts
// api/typed-request.ts
import { createInstance } from '@bubblesjs/request';

// types/api.ts
interface User {
  id: number;
  name: string;
  email: string;
}

interface ApiResponse<T> {
  code: number;
  data: T;
  message: string;
}

const typedRequest = createInstance({
  baseUrl: '/api',
  isTransformResponse: true,
});

// ç±»å‹å®‰å…¨çš„ API å‡½æ•°
export const getUserById = async (id: number): Promise<User> => {
  return await typedRequest.Get(`/user/${id}`);
};

export const createUser = async (userData: Omit<User, 'id'>): Promise<User> => {
  return await typedRequest.Post('/user', { body: userData });
};
```

## è¿ç§»æŒ‡å—

### ä» Axios è¿ç§»

å¦‚æœä½ ä¹‹å‰ä½¿ç”¨åŸç”Ÿ Axiosï¼Œå¯ä»¥è¿™æ ·è¿ç§»ï¼š

```ts
// ä¹‹å‰çš„ Axios é…ç½®
const axiosInstance = axios.create({
  baseURL: '/api',
  timeout: 10000,
  headers: {
    'Content-Type': 'application/json',
  },
});

// è¿ç§»åˆ° @bubblesjs/request
const request = createInstance({
  baseUrl: '/api', // æ³¨æ„ï¼šè¿™é‡Œæ˜¯ baseUrl ä¸æ˜¯ baseURL
  timeout: 10000,
  commonHeaders: {
    'Content-Type': 'application/json',
  },
});

// API è°ƒç”¨æ–¹å¼åŸºæœ¬ç›¸åŒ
// ä¹‹å‰ï¼šawait axiosInstance.get('/user')
// ç°åœ¨ï¼šawait request.Get('/user')
```

### ä»å…¶ä»–è¯·æ±‚åº“è¿ç§»

@bubblesjs/request æä¾›äº†çµæ´»çš„é€‚é…å™¨ç³»ç»Ÿï¼Œå¯ä»¥è½»æ¾é›†æˆç°æœ‰çš„è¯·æ±‚è§£å†³æ–¹æ¡ˆã€‚

## å¸¸è§é—®é¢˜

### Q: å¦‚ä½•å¤„ç†æ–‡ä»¶ä¸‹è½½ï¼Ÿ

A: å¯ä»¥é€šè¿‡è®¾ç½® `isTransformResponse: false` æ¥è·å–å®Œæ•´å“åº”ï¼š

```ts
const downloadRequest = createInstance({
  baseUrl: '/api',
  isTransformResponse: false,
});

const downloadFile = async (fileId: string) => {
  const response = await downloadRequest.Get(`/download/${fileId}`);
  // å¤„ç†æ–‡ä»¶ä¸‹è½½é€»è¾‘
  const blob = await response.blob();
  const url = window.URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = 'filename.pdf';
  a.click();
};
```

### Q: å¦‚ä½•å®ç°è¯·æ±‚é‡è¯•ï¼Ÿ

A: å¯ä»¥ç»“åˆ Alova çš„é‡è¯•åŠŸèƒ½ï¼š

```ts
import { createInstance } from '@bubblesjs/request';

const request = createInstance({
  baseUrl: '/api',
});

// ä½¿ç”¨æ—¶æ·»åŠ é‡è¯•é…ç½®
const dataWithRetry = await request.Get('/unstable-api', {
  retry: 3, // é‡è¯• 3 æ¬¡
  retryDelay: 1000, // é‡è¯•é—´éš” 1 ç§’
});
```

### Q: å¦‚ä½•å®ç°è¯·æ±‚ç¼“å­˜ï¼Ÿ

A: Alova å†…ç½®äº†å¼ºå¤§çš„ç¼“å­˜åŠŸèƒ½ï¼š

```ts
// ç¼“å­˜ 5 åˆ†é’Ÿ
const cachedData = await request.Get('/user/profile', {
  hitSource: 'cache',
  cacheFor: 5 * 60 * 1000, // 5 åˆ†é’Ÿ
});
```

### Q: å¦‚ä½•é›†æˆ Loading çŠ¶æ€ï¼Ÿ

A: ä½¿ç”¨ Alova çš„çŠ¶æ€é’©å­åŠŸèƒ½ï¼š

```ts
// React ç¤ºä¾‹
import { useRequest } from 'alova/react'

const UserProfile = () => {
  const {
    loading,
    data,
    error,
    send
  } = useRequest(() => request.Get('/user/profile'), {
    immediate: true
  })

  if (loading) return <div>Loading...</div>
  if (error) return <div>Error: {error.message}</div>

  return <div>User: {data.name}</div>
}
```

## æ€»ç»“

@bubblesjs/request æä¾›äº†ç°ä»£åŒ–ã€ç±»å‹å®‰å…¨ã€åŠŸèƒ½ä¸°å¯Œçš„è¯·æ±‚è§£å†³æ–¹æ¡ˆã€‚é€šè¿‡çµæ´»çš„é…ç½®é€‰é¡¹å’ŒåŒé‡è°ƒç”¨æ¨¡å¼ï¼Œå¯ä»¥æ»¡è¶³ä»ç®€å•åˆ°å¤æ‚çš„å„ç§è¯·æ±‚åœºæ™¯éœ€æ±‚ã€‚
