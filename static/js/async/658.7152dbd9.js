"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([["658"],{7993:function(e,s,n){n.r(s),n.d(s,{default:()=>c});var r=n(651),a=n(6971);function t(e){let s=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",pre:"pre",code:"code",h3:"h3",ul:"ul",li:"li"},(0,a.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.h1,{id:"bubblesjsutils",children:["@bubblesjs/utils",(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#bubblesjsutils",children:"#"})]}),"\n",(0,r.jsx)(s.p,{children:"Axios-based request wrapper for common request scenarios."}),"\n",(0,r.jsxs)(s.h2,{id:"install",children:["Install",(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#install",children:"#"})]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"pnpm add @bubblesjs/utils axios\n"})}),"\n",(0,r.jsxs)(s.h2,{id:"quick-usage",children:["Quick Usage",(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#quick-usage",children:"#"})]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ts",children:"import { getRequest } from '@bubblesjs/utils'\n\nconst request = getRequest({\n  baseUrl: '/api',\n  timeout: 10000,\n  commonHeaders: {\n    Authorization: () => `Bearer ${localStorage.getItem('token') || ''}`,\n  },\n  successMessageFunc: (msg) => console.log(msg),\n  errorMessageFunc: (msg) => console.error(msg),\n  unAuthorizedResponseFunc: (msg) => console.warn('401', msg),\n  statusMap: { success: 200, unAuthorized: 401 },\n  codeMap: { success: [200], unAuthorized: [40101, 401] },\n  responseDataKey: 'data',\n  responseMessageKey: 'message',\n  isTransformResponse: true,\n  isShowSuccessMessage: false,\n})\n\n// request is an axios instance\nconst res = await request.get('/user')\n"})}),"\n",(0,r.jsxs)(s.h2,{id:"api",children:["API",(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#api",children:"#"})]}),"\n",(0,r.jsxs)(s.h3,{id:"getrequestoption",children:["getRequest(option)",(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#getrequestoption",children:"#"})]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"baseUrl: string, default '/'"}),"\n",(0,r.jsx)(s.li,{children:"timeout: number, default 0"}),"\n",(0,r.jsx)(s.li,{children:"commonHeaders: Record<string, string | () => string>"}),"\n",(0,r.jsx)(s.li,{children:"successMessageFunc: (message: string) => void"}),"\n",(0,r.jsx)(s.li,{children:"errorMessageFunc: (message: string) => void"}),"\n",(0,r.jsx)(s.li,{children:"unAuthorizedResponseFunc: (message: string) => void"}),"\n",(0,r.jsx)(s.li,{children:"statusMap: { success?: number; unAuthorized?: number }"}),"\n",(0,r.jsx)(s.li,{children:"codeMap: { success?: number[]; unAuthorized?: number[] }"}),"\n",(0,r.jsx)(s.li,{children:"responseDataKey: string, default 'data'"}),"\n",(0,r.jsx)(s.li,{children:"responseMessageKey: string, default 'message'"}),"\n",(0,r.jsx)(s.li,{children:"isTransformResponse: boolean, default true"}),"\n",(0,r.jsx)(s.li,{children:"isShowSuccessMessage: boolean, default true"}),"\n"]}),"\n",(0,r.jsxs)(s.h3,{id:"advanced-custom-axios-instance",children:["Advanced: Custom Axios instance",(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#advanced-custom-axios-instance",children:"#"})]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ts",children:"import { createRequest } from '@bubblesjs/utils/request/core/axios'\n\nconst axiosInstance = createRequest({\n  baseURL: '/api',\n  timeout: 8000,\n  requestInterceptor: (config) => {\n    // custom request interceptor\n    return config\n  },\n  responseInterceptor: (res) => {\n    // custom response handling\n    return res\n  },\n})\n"})})]})}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,a.ah)(),e.components);return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}let c=i;i.__RSPRESS_PAGE_META={},i.__RSPRESS_PAGE_META["en%2Fpackages%2Futils.md"]={toc:[{text:"Install",id:"install",depth:2},{text:"Quick Usage",id:"quick-usage",depth:2},{text:"API",id:"api",depth:2},{text:"getRequest(option)",id:"getrequestoption",depth:3},{text:"Advanced: Custom Axios instance",id:"advanced-custom-axios-instance",depth:3}],title:"@bubblesjs/utils",headingTitle:"@bubblesjs/utils",frontmatter:{}}}}]);